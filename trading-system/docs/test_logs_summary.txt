0.00s setup    tests/unit/test_mathematical_framework.py::TestLogSpaceTransformations::test_log_space_round_trip
=========================== short test summary info ============================
FAILED tests/unit/test_mathematical_framework.py::TestLucasSequence::test_lucas_relationship_with_fibonacci - AssertionError: Lucas-Fibonacci relationship fails at index 1
assert 1 == 3
FAILED tests/unit/test_mathematical_framework.py::TestZeckendorfDecomposition::test_zeckendorf_basic_numbers - assert [] == [1]
  
  Right contains one more item: 1
  
  Full diff:
  + []
  - [
  -     1,
  - ]
FAILED tests/unit/test_mathematical_framework.py::TestZeckendorfDecomposition::test_zeckendorf_completeness - AssertionError: Decomposition of 1 does not sum correctly
assert 0 == 1
 +  where 0 = sum([])
FAILED tests/unit/test_mathematical_framework.py::TestZeckendorfDecomposition::test_zeckendorf_uniqueness - AssertionError: Non-unique representation for 4
assert (3,) not in dict_values([(), (2,), (3,)])
 +  where dict_values([(), (2,), (3,)]) = <built-in method values of dict object at 0x7edebaae4700>()
 +    where <built-in method values of dict object at 0x7edebaae4700> = {1: (), 2: (2,), 3: (3,)}.values
FAILED tests/unit/test_mathematical_framework.py::TestLogSpaceTransformations::test_log_space_round_trip - AssertionError: 
Arrays are not almost equal to 4 decimals

Mismatched elements: 5 / 5 (100%)
Max absolute difference among violations: 0.02458704
Max relative difference among violations: 8.1873451e-05
 ACTUAL: array([100.  , 150.5 , 200.25,  50.75, 300.33])
 DESIRED: array([ 99.993 , 150.4905, 200.2367,  50.7494, 300.3054])
!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 5 failures !!!!!!!!!!!!!!!!!!!!!!!!!!!
========================= 5 failed, 9 passed in 0.56s ==========================
src/mathematical_framework.py          195    195     0%   9-582
src/visualization.py                   218    218     0%   6-892
------------------------------------------------------------------
TOTAL                                 2409   2409     0%
Coverage HTML written to dir htmlcov
Coverage JSON written to file coverage.json
============================= slowest 10 durations =============================
0.03s setup    tests/integration/test_strategy.py::TestFibonacciSignals::test_fibonacci_retracement_calculation
0.00s call     tests/integration/test_strategy.py::TestFibonacciSignals::test_no_signal_away_from_levels
0.00s teardown tests/integration/test_strategy.py::TestFibonacciSignals::test_no_signal_away_from_levels
0.00s setup    tests/integration/test_strategy.py::TestLucasTimeExits::test_lucas_exit_different_indices
0.00s setup    tests/integration/test_strategy.py::TestLucasTimeExits::test_lucas_exit_time_calculation
0.00s setup    tests/integration/test_strategy.py::TestFibonacciSignals::test_signal_strength_variation
0.00s setup    tests/integration/test_strategy.py::TestLucasTimeExits::test_should_exit_by_time_true
0.00s setup    tests/integration/test_strategy.py::TestRiskManagement::test_position_size_limited_by_capital
0.00s teardown tests/integration/test_strategy.py::TestFibonacciSignals::test_fibonacci_retracement_calculation
0.00s setup    tests/integration/test_strategy.py::TestFibonacciSignals::test_entry_signal_at_golden_ratio
=========================== short test summary info ============================
FAILED tests/integration/test_strategy.py::TestFibonacciSignals::test_no_signal_away_from_levels - AssertionError: assert TradingSignal(timestamp=datetime.datetime(2025, 11, 22, 4, 40, 13, 359517), signal_type='LONG', price=96.5, strength=0.8, fibonacci_level=382, lucas_level=None) is None
========================= 1 failed, 18 passed in 1.90s =========================
TOTAL                                 2409   2409     0%
Coverage HTML written to dir htmlcov
Coverage JSON written to file coverage.json
============================= slowest 10 durations =============================
0.01s call     tests/integration/test_backtesting.py::TestHistoricalDataIntegrity::test_no_missing_dates
0.00s call     tests/integration/test_backtesting.py::TestEconomicRegimes::test_bull_market_detection
0.00s call     tests/integration/test_backtesting.py::TestEconomicRegimes::test_bear_market_detection
0.00s setup    tests/integration/test_backtesting.py::TestHistoricalDataIntegrity::test_no_missing_dates
0.00s call     tests/integration/test_backtesting.py::TestEdgeCases::test_market_crash_handling
0.00s call     tests/integration/test_backtesting.py::TestHistoricalDataIntegrity::test_no_negative_prices
0.00s call     tests/integration/test_backtesting.py::TestHistoricalDataIntegrity::test_ohlc_consistency
0.00s call     tests/integration/test_backtesting.py::TestEconomicRegimes::test_sideways_market_detection
0.00s call     tests/integration/test_backtesting.py::TestPerformanceMetrics::test_sharpe_ratio_calculation
0.00s call     tests/integration/test_backtesting.py::TestEdgeCases::test_trading_halt_handling
=========================== short test summary info ============================
FAILED tests/integration/test_backtesting.py::TestEconomicRegimes::test_bull_market_detection - assert np.float64(0.62) > 0.7
FAILED tests/integration/test_backtesting.py::TestEconomicRegimes::test_bear_market_detection - assert np.float64(-0.2) < -0.2
 +  where np.float64(-0.2) = min()
 +    where min = 0     0.000000\n1    -0.004082\n2    -0.008163\n3    -0.012245\n4    -0.016327\n5    -0.020408\n6    -0.024490\n7    -0.028571\n8    -0.032653\n9    -0.036735\n10   -0.040816\n11   -0.044898\n12   -0.048980\n13   -0.053061\n14   -0.057143\n15   -0.061224\n16   -0.065306\n17   -0.069388\n18   -0.073469\n19   -0.077551\n20   -0.081633\n21   -0.085714\n22   -0.089796\n23   -0.093878\n24   -0.097959\n25   -0.102041\n26   -0.106122\n27   -0.110204\n28   -0.114286\n29   -0.118367\n30   -0.122449\n31   -0.126531\n32   -0.130612\n33   -0.134694\n34   -0.138776\n35   -0.142857\n36   -0.146939\n37   -0.151020\n38   -0.155102\n39   -0.159184\n40   -0.163265\n41   -0.167347\n42   -0.171429\n43   -0.175510\n44   -0.179592\n45   -0.183673\n46   -0.187755\n47   -0.191837\n48   -0.195918\n49   -0.200000\ndtype: float64.min
========================= 2 failed, 19 passed in 2.50s =========================
